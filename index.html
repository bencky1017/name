<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤é£åå­—</title>
    <style>
        table td {
            width: 80px;
        }
    </style>
</head>

<body>
    <div class="wrapper">

        <div class="info" style="margin: 20px;">
            <label for="date">è¾“å…¥ç”Ÿæ—¥ï¼š</label>
            <input type="search" name="" id="date" placeholder="æ ¼å¼ï¼š1.23"
                style="height: 46px;width: 100px;font-size: 16px;text-align: center;" value="10.23">
            <label for="animal">ç”Ÿè‚–ï¼š</label>
            <select name="" id="animal" style="height: 46px;width: 100px;font-size: 18px;text-align: center;">
                <option value="" disabled selected hidden>-é€‰æ‹©-</option>
                <option value="0">é¼ </option>
                <option value="1">ç‰›</option>
                <option value="2">è™</option>
                <option value="3">å…”</option>
                <option value="4">é¾™</option>
                <option value="5">è›‡</option>
                <option value="6">é©¬</option>
                <option value="7">ç¾Š</option>
                <option value="8">çŒ´</option>
                <option value="9">é¸¡</option>
                <option value="10">ç‹—</option>
                <option value="11">çŒª</option>
            </select>
            <label for="sex">æ€§åˆ«ï¼š</label>
            <select name="" id="sex" style="height: 46px;width: 100px;font-size: 18px;text-align: center;">
                <option value="" disabled selected hidden>-é€‰æ‹©-</option>
                <option value="0">ç”·â™‚ğŸ‘¦</option>
                <option value="1">å¥³â™€ğŸ‘§</option>
            </select>
            <input type="button" value="ç”Ÿæˆ" id="genBtn" style="width: 100px;height: 46px;">
            <label for="result">å¤é£åå­—ï¼š</label>
            <input type="text" name="" id="result"
                style="height: 46px;width: 120px;font-size: 16px;text-align: center;">
        </div>

        <table border="1" cellspacing="1" cellpadding="4" style="text-align:center;margin: 20px;">
            <tr>
                <th class="head">æ˜Ÿåº§</th>
                <th>æ°´ç“¶åº§</th>
                <th>åŒé±¼åº§</th>
                <th>ç™½ç¾Šåº§</th>
                <th>é‡‘ç‰›åº§</th>
                <th>åŒå­åº§</th>
                <th>å·¨èŸ¹åº§</th>
                <th>ç‹®å­åº§</th>
                <th>å¤„å¥³åº§</th>
                <th>å¤©ç§¤åº§</th>
                <th>å¤©èåº§</th>
                <th>å°„æ‰‹åº§</th>
                <th>æ‘©ç¾¯åº§</th>
            </tr>
            <tr>
                <td class="head">ç”Ÿæ—¥</td>
                <td>1.20-2.18</td>
                <td>2.19-3.20</td>
                <td>3.21-4.19</td>
                <td>4.20-5.20</td>
                <td>5.21-6.21</td>
                <td>6.22-7.22</td>
                <td>7.23-8.22</td>
                <td>8.23-9.22</td>
                <td>9.23-10.23</td>
                <td>10.24-11.22</td>
                <td>11.23-12.21</td>
                <td>12.22-1.19</td>
            </tr>
            <tr>
                <td class="head">å§“æ°</td>
                <td>å¸</td>
                <td>å”</td>
                <td>ç§¦</td>
                <td>å—å®«</td>
                <td>å¤œ</td>
                <td>æ¸©</td>
                <td>å®‹</td>
                <td>ä¸Šå®˜</td>
                <td>é™†</td>
                <td>æ²ˆ</td>
                <td>å§œ</td>
                <td>å†·</td>
            </tr>
        </table>

        <table border="1" cellspacing="1" cellpadding="4" style="text-align:center;margin: 20px;">
            <tr>
                <th class="head">æœˆä»½</th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
                <th>6</th>
                <th>7</th>
                <th>8</th>
                <th>9</th>
                <th>10</th>
                <th>11</th>
                <th>12</th>
            </tr>
            <tr>
                <td class="head">ä¸­é—´ç”·</td>
                <td>å®¸</td>
                <td>è‡³</td>
                <td>å®‡</td>
                <td>é€¸</td>
                <td>è¿Ÿ</td>
                <td>åº­</td>
                <td>è½©</td>
                <td>è½©</td>
                <td>ç…¦</td>
                <td>äº‘</td>
                <td>è¯—</td>
                <td>å¢¨</td>
            </tr>
            <tr>
                <td class="head">ä¸­é—´å¥³</td>
                <td>æ¸…</td>
                <td>æ¢¦</td>
                <td>ä¹¦</td>
                <td>æ…•</td>
                <td>ç</td>
                <td>æ™š</td>
                <td>ä»ª</td>
                <td>ç’</td>
                <td>é”¦</td>
                <td>æœˆ</td>
                <td>æ²«</td>
                <td>èˆ’</td>
            </tr>
        </table>

        <table border="1" cellspacing="1" cellpadding="4" style="text-align:center;margin: 20px;">
            <tr>
                <th class="head">ç”Ÿè‚–</th>
                <th>é¼ </th>
                <th>ç‰›</th>
                <th>è™</th>
                <th>å…”</th>
                <th>é¾™</th>
                <th>è›‡</th>
                <th>é©¬</th>
                <th>ç¾Š</th>
                <th>çŒ´</th>
                <th>é¸¡</th>
                <th>ç‹—</th>
                <th>çŒª</th>
            </tr>
            <tr>
                <td class="head">ä¸­é—´ç”·</td>
                <td>ç‘¾</td>
                <td>å°˜</td>
                <td>æ™¯</td>
                <td>å¹´</td>
                <td>è®¸</td>
                <td>çƒ¨</td>
                <td>å¹´</td>
                <td>å®´</td>
                <td>å®</td>
                <td>çºª</td>
                <td>äº­</td>
                <td>è¨€</td>
            </tr>
            <tr>
                <td class="head">ä¸­é—´å¥³</td>
                <td>ç‘œ</td>
                <td>æ›¦</td>
                <td>æ‚¦</td>
                <td>å¦</td>
                <td>æŸ </td>
                <td>å¿†</td>
                <td>äºˆ</td>
                <td>å©·</td>
                <td>å…®</td>
                <td>èŠ·</td>
                <td>å©‰</td>
                <td>æ¬£</td>
            </tr>
        </table>
    </div>
    <script>
        // æ˜Ÿåº§
        var star_date = {
            0: "1.20-2.18",
            1: "2.19-3.20",
            2: "3.21-4.19",
            3: "4.20-5.20",
            4: "5.21-6.21",
            5: "6.22-7.22",
            6: "7.23-8.22",
            7: "8.23-9.22",
            8: "9.23-10.23",
            9: "10.24-11.22",
            10: "11.23-12.21",
            11: "12.22-1.19"
        }
        // æ˜Ÿåº§å¯¹åº”åå­—
        var star_name = {
            0: "å¸",
            1: "å”",
            2: "ç§¦",
            3: "å—å®«",
            4: "å¤œ",
            5: "æ¸©",
            6: "å®‹",
            7: "ä¸Šå®˜",
            8: "é™†",
            9: "æ²ˆ",
            10: "å§œ",
            11: "å†·"
        }
        // æœˆä»½ç”·ç”Ÿå
        var month_boy = {
            0: "å®¸",
            1: "è‡³",
            2: "å®‡",
            3: "é€¸",
            4: "è¿Ÿ",
            5: "åº­",
            6: "è½©",
            7: "è½©",
            8: "ç…¦",
            9: "äº‘",
            10: "è¯—",
            11: "å¢¨",
        }
        // æœˆä»½å¥³ç”Ÿå
        var month_girl = {
            0: "æ¸…",
            1: "æ¢¦",
            2: "ä¹¦",
            3: "æ…•",
            4: "ç",
            5: "æ™š",
            6: "ä»ª",
            7: "ç’",
            8: "é”¦",
            9: "æœˆ",
            10: "æ²«",
            11: "èˆ’",
        }
        // ç”Ÿè‚–ç”·ç”Ÿå
        var animal_boy = {
            0: "ç‘¾",
            1: "å°˜",
            2: "æ™¯",
            3: "å¹´",
            4: "è®¸",
            5: "çƒ¨",
            6: "å¹´",
            7: "å®´",
            8: "å®",
            9: "çºª",
            10: "äº­",
            11: "è¨€",
        }
        // ç”Ÿè‚–å¥³ç”Ÿå
        var animal_girl = {
            0: "ç‘œ",
            1: "æ›¦",
            2: "æ‚¦",
            3: "å¦",
            4: "æŸ ",
            5: "å¿†",
            6: "äºˆ",
            7: "å©·",
            8: "å…®",
            9: "èŠ·",
            10: "å©‰",
            11: "æ¬£",
        }

        var date = ''       // ç”Ÿæ—¥
        var index = 0       // æ˜Ÿåº§ç´¢å¼•
        var animal = ''     // ç”Ÿè‚–
        var sex = -1        // æ€§åˆ«ç´¢å¼•
        var result = ''     // ç”Ÿæˆåå­—

        const starElement = document.getElementById('date');
        starElement.addEventListener('change', function () {
            date = this.value;
            console.log('è¾“å…¥çš„ç”Ÿæ—¥ä¸ºï¼š', date);
        });

        const animalElement = document.getElementById('animal');
        animalElement.addEventListener('change', function () {
            animal = this.value;
            console.log('é€‰ä¸­çš„ç”Ÿè‚–å€¼ï¼š', animal);
        });

        const sexElement = document.getElementById('sex');
        sexElement.addEventListener('change', function () {
            sex = this.value;
            console.log('é€‰ä¸­çš„æ€§åˆ«å€¼ï¼š', sex);
        });

        // ç”Ÿæˆ
        var genBtn = document.getElementById('genBtn')
        genBtn.addEventListener('click', function () {
            var getdate = document.getElementById('date').value;
            var [mon, day] = getdate.split('.')
            var length = Object.keys(star_date).length;

            for (let i = 0; i < length; i++) {
                let dateRange = star_date[i];
                const [start, end] = dateRange.split('-').map(Number);
                var targetKey = Object.entries(star_date).find(([key, value]) => value === dateRange);
                if (getdate >= start && getdate <= end) {
                    // console.log(`${getdate} åœ¨æ—¥æœŸèŒƒå›´å†…ã€‚`);
                    index = targetKey[0]
                    break
                }
            }
            console.log(mon, day)

            var name_1 = star_name[index]
            var name_2 = sex == 0 ? month_boy[mon - 1] : sex == 1 ? month_girl[mon - 1] : 'æœªçŸ¥'
            var name_3 = sex == 0 ? animal_boy[animal] : sex == 1 ? animal_girl[animal] : 'æœªçŸ¥'


            if (day == undefined) {
                result = 'è¾“å…¥é”™è¯¯'
            } else if (name_2 == 'æœªçŸ¥' || name_3 == 'æœªçŸ¥') {
                result = 'æœªé€‰æ‹©'
            } else {
                result = name_1 + name_2 + name_3
            }






            console.group('è·å–ä¿¡æ¯')
            console.log('--------------------------------')
            console.log(`ç”Ÿæ—¥ï¼š`, getdate, [mon, day])
            console.log(`æ˜Ÿåº§ç´¢å¼•ï¼š`, index)
            console.log(`æ€§åˆ«ï¼š`, sex == 0 ? "ç”·" : sex == 1 ? "å¥³" : "æœªçŸ¥")
            console.log(`ç”Ÿè‚–ï¼š`, animal ? animal : "æœªçŸ¥")

            console.log(`ç¬¬ä¸€ä¸ªå­—ï¼š`, name_1)
            console.log(`ç¬¬äºŒä¸ªå­—ï¼š`, name_2)
            console.log(`ç¬¬äºŒä¸ªå­—ï¼š`, name_3)

            console.log(`ç”Ÿæˆåå­—ï¼š`, result)
            console.groupEnd()

            const resultElement = document.getElementById('result');

            resultElement.value = result

        })



    </script>
</body>

</html>